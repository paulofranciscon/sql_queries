Para matar os processos "sleeping"

use master
DECLARE @KILLSPIDPREZA VARCHAR(30)
DECLARE KILL_PROC_PREZA CURSOR FOR
SELECT 'KILL '+CAST(SPID AS VARCHAR) from sys.sysprocesses as pinner join sysdatabases as b on pinner.dbid= b.dbid
where  pinner.status = 'sleeping' and pinner.spid > 50
OPEN KILL_PROC_PREZA
FETCH NEXT FROM KILL_PROC_PREZA INTO @KILLSPIDPREZA
WHILE @@FETCH_STATUS = 0
BEGIN
   EXECUTE (@KILLSPIDPREZA)
   FETCH NEXT FROM KILL_PROC_PREZA INTO @KILLSPIDPREZA
END
CLOSE KILL_PROC_PREZA
DEALLOCATE KILL_PROC_PREZA